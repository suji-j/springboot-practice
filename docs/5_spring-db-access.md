## 5. 스프링 DB접근 기술

### [1] H2 데이터베이스 설치

- 개발이나 테스트 용도로 가볍고 편리한 DB, 웹 화면 제공
- h2 데이터베이스 버전은 스프링 부트 버전에 맞춘다.
- 권한 주기 : `chmod 755 h2.sh`  → 실행하기 : `./h2.sh`  → 웹 화면 열림
- 데이터베이스 파일 생성 방법
    - JDBC URL : `jdbc:h2:~/test`  (최초 한 번)
    - `~/test.mv.db` 파일 생성 확인 (가장 맨 위 디렉토리에 샐김)
    - 이후부터는 JDBC URL :`jdbc:h2:tcp://localhost/~/test` 로 접속 (소켓을 통해서 접속할 수 있음)

<br/>

#### 테이블 생성하기

- 테이블 관리를 위해 프로젝트 루트에 `sql/ddl.sql` 파일을 생성

```sql
drop table if exists member CASCADE;
create table member
(
	id bigint generated by default as identity,
	name varchar(255),
	primary key (id)
);
```

- `generated by default as identity` : null 값이 들어오면 DB에서 자동으로 값을 채워줌